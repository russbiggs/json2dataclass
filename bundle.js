var e={dataclass:'<span class="keyword">from</span> <span class="class-name">dataclasses</span> <span class="keyword">import</span> <span class="class-name">dataclass</span>',list:'<span class="keyword">from</span> <span class="class-name">typing</span> <span class="keyword">import</span> <span class="class-name">List</span>',union:'<span class="keyword">from</span> <span class="class-name">typing</span> <span class="keyword">import</span> <span class="class-name">Union</span>',datetime:'<span class="keyword">import</span> <span class="class-name">datetime</span>'},s=function(e){return e.charAt(0).toUpperCase()+e.substr(1).replace(/([-_][a-z])/g,function(e){return e.toUpperCase().replace("-","").replace("_","")})},t=function(e,s){if("string"==typeof e||e instanceof String){var t=RegExp(/^\d{4}(-\d\d(-\d\d(T\d\d:\d\d(:\d\d)?(\.\d+)?(([+-]\d\d:\d\d)|Z)?)?)?)?$/i),n=e.match(t);return s&&n?"datetime.datetime":"str"}return"number"==typeof e&&isFinite(e)?e%1==0?"int":"float":"boolean"==typeof e?"bool":"str"},n=new function(){var e=this;this.subscribe=function(s,t){return e.events.hasOwnProperty(s)||(e.events[s]=[]),e.events[s].push(t)},this.publish=function(s,t){return void 0===t&&(t={}),e.events.hasOwnProperty(s)?e.events[s].map(function(e){return e(t)}):[]},this.events={}},a=new function(){var n=this;this.addEventListeners=function(){n.elem.addEventListener("keydown",n.onKeyDown)},this.onKeyDown=function(e){~[37,38,39,40].indexOf(e.keyCode)||e.ctrlKey||e.metaKey||e.preventDefault()},this.setData=function(e){n.data=e,n.update()},this.toggleIncludeImports=function(){n.includeImports=!n.includeImports,""!=n.data&&n.update()},this.toggleDatetime=function(){n.datetime=!n.datetime,""!=n.data&&n.update()},this.errorMessage=function(e){n.elem.innerHTML=e},this.toggleCaseStyle=function(){n.snakeCase=!n.snakeCase,""!=n.data&&n.update()},this.update=function(){if(""!=n.data){n.elem.innerHTML="";var s={},t=JSON.parse(n.data);n.findObjs(t,s);var a="";if(n.includeImports){if(n.datetime&&(a+=e.datetime,a+="<br>"),n.imports.length>0)for(var i=0,o=n.imports;i<o.length;i+=1)a+=e[o[i]],a+="<br>";a+=e.dataclass,a+="<br><br>"}for(var r=0,d=Object.entries(s);r<d.length;r+=1){var l=d[r];a+=n.createClass(l[0],l[1]),a+="<br><br>"}n.elem.innerHTML=a}else n.elem.innerHTML=""},this.findObjs=function(e,a,i){void 0===i&&(i="GeneratedClass");var o={};for(var r in a.hasOwnProperty(i)&&(o=a[i]),e)if(null!==e[r]&&e[r]instanceof Array){-1==n.imports.indexOf("list")&&n.imports.push("list");for(var d=new Set,l=0,c=e[r];l<c.length;l+=1){var u=c[l];if("boolean"==typeof u||"number"==typeof u||"string"==typeof u||u instanceof String)d.add(t(u,n.datetime));else{var p=s(r);d.add(""+p);for(var m=0,h=e[r];m<h.length;m+=1)n.findObjs(h[m],a,r)}}if(d.size<1)o[r]="List";else if(d.size>1){-1==n.imports.indexOf("union")&&n.imports.push("union");var b=Array.from(d.values());o[r]="List[Union["+b.join(", ")+"]]"}else o[r]="List["+d.values().next().value+"]"}else null!==e[r]&&"object"==typeof e[r]?(o[r]=s(r),n.findObjs(e[r],a,r)):o[r]=t(e[r],n.datetime);a[i]=o},this.createClass=function(e,t){for(var a="",i=0,o=Object.entries(t);i<o.length;i+=1){var r=o[i],d=r[0],l=r[1],c=d;n.snakeCase&&(c=d.split(/(?=[A-Z])/).join("_").toLowerCase()),a+="&nbsp&nbsp&nbsp&nbsp"+c+': <span class="type">'+l+"</span>",a+="<br>"}var u='<span class="dataclass">@dataclass</span><br>',p=e;return e[0]!=e[0].toUpperCase()&&(p=s(e)),u+='<span class="keyword">class</span> <span class="class-name">'+p+"</span>:",(u+="<br>")+a},this.elem=document.querySelector(".js-python-output"),this.imports=[],this.includeImports=!1,this.datetime=!1,this.snakeCase=!0,this.data="",this.addEventListeners()};new function(e){var s=this;this.addEventListeners=function(){s.elem.addEventListener("input",s.onInput)},this.onInput=function(){try{JSON.parse(s.elem.value),s.pubSub.publish("enter-json",s.elem.value)}catch(e){s.pubSub.publish("json-error",'<span class="error-message">'+e.message+":<br>"+s.elem.value+"<span>")}},this.pubSub=e,this.elem=document.querySelector(".js-json-input"),this.addEventListeners()}(n),new function(e){var s=this;this.addEventListeners=function(){s.elem.addEventListener("change",s.onChange)},this.onChange=function(){s.pubSub.publish("toggle-import")},this.elem=document.getElementById("import-toggle"),this.pubSub=e,this.addEventListeners()}(n),new function(e){var s=this;this.addEventListeners=function(){s.elem.addEventListener("change",s.onChange)},this.onChange=function(){s.pubSub.publish("toggle-datetime")},this.elem=document.getElementById("datetime-toggle"),this.pubSub=e,this.addEventListeners()}(n),new function(e){var s=this;this.addEventListeners=function(){s.elem.addEventListener("change",s.onChange)},this.onChange=function(){s.pubSub.publish("toggle-snake-case")},this.elem=document.getElementById("snake-case-toggle"),this.pubSub=e,this.addEventListeners()}(n),new function(){var e=this;this.addEventListeners=function(){e.modalBtn.addEventListener("click",e.show),e.background.addEventListener("click",e.close),e.closeBtn.addEventListener("click",e.close)},this.show=function(){e.modal.classList.add("modal--visible"),e.background.classList.add("modal__background--visible"),e.modalBody.classList.add("modal__body--visible")},this.close=function(){e.modal.classList.remove("modal--visible"),e.background.classList.remove("modal__background--visible"),e.modalBody.classList.remove("modal__body--visible")},this.modal=document.querySelector(".js-modal"),this.modalBody=document.querySelector(".js-modal__body"),this.background=document.querySelector(".js-modal__background"),this.modalBtn=document.querySelector(".about"),this.closeBtn=document.querySelector(".js-close-btn"),this.addEventListeners()},n.subscribe("enter-json",a.setData),n.subscribe("toggle-import",a.toggleIncludeImports),n.subscribe("toggle-datetime",a.toggleDatetime),n.subscribe("toggle-snake-case",a.toggleCaseStyle),n.subscribe("json-error",a.errorMessage);
//# sourceMappingURL=bundle.js.map
